<!DOCTYPE html><html><head><title>Blade32232.github.io</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons%7CMaterial+Icons+Outlined&amp;display=swap" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/blade32232web/docs/assets/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/blade32232web/docs/assets/codedoc-bundle.js"></script></head><body><div class="header-0-0-4"><script async="" defer="" src="https://buttons.github.io/buttons.js"></script><a class="github-button" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="false" data-show-count="true" data-size="false" href="https://github.com/blade32232/blade32232web/">Star</a><br><br></div><div id="-codedoc-container" class="container"><marker><style>
img[src*="#centered"] {
    margin:auto;
    display:block;
 }
 img[src*="#invertedcenter"] {
    margin:auto;
    display:block;
    background: white;
    width: 55%;
    height: auto;
 }
 img[src*="#small"] {
    width: 250px;
    height: auto;
 }
 div.centertext{
    text-align:center;
 }
 abbr{
    border: none;
    text-decoration: none;
    color: lightblue;
}
h1{
   text-align:center;
}
</style>

</marker><h1 id="mechanics" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Mechanics</h1><marker><hr>

</marker><h2 id="rules" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Rules</h2><h3 id="implicit" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Implicit</h3><ul><li>That the tethered animal perceives the stimulus to be real and life-like. </li><li>That DLC-live accurately labels the desired points without bias.</li><li>A total system latency of 25 ms</li><li>Using WBAD in the yaw gain calculation will allow for the tethered animal’s avatar to mirror the desired heading of the tethered animal. </li><li>Using WBAS in the thrust gain calculation will allow for the tethered animal’s avatar to mirror the desired speed of the tethered animal. </li></ul><h3 id="explicit" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Explicit</h3><ul><li>The system should produce 165 unique frames per second in order to provide smooth visuals for the Eristalis Tenax.</li><li>Updating the tethered animal’s input 100 times a second allows for the tethered animal to accurately control its virtual position.</li></ul><h2 id="physics" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Physics</h2><p>The tethered animal is stuck at a predetermined height within the virtual environment, due to the limitations of tracking with only one camera. Additionally, gravity and collisions are not being simulated within the scenes, the tethered animal will be able to travel through all other objects shown within the scene should it attempt to fly into them. </p><h2 id="character-movement-within-the-system" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Character movement within the system</h2><p>The tethered animal’s avatar is moved through the virtual environment using the data provided by the tethered animal’s physical movements. These movements are captured by a camera and the live footage is fed into DLC-Live, where coordinate points are extracted using pose estimation. </p><p>These coordinates are then sent into Unity using a UDP socket, once they arrive the wing beat amplitude for each wing as well as head yaw and roll movements are all updated using the new coordinates. Unique coordinates are provided at a rate of 100hz. whereas Unity updates the stimulus screens at a rate of 165hz, this results in roughly 65 frames per second being produced using coordinates that are not unique. </p><p>The tethered animal will be forced to maintain its starting height within the scene unless overridden by an Interpolation or Trial. The gains used to control yaw and thrust velocity can be configured using the Settings_Manager script shown below in Figure 6, the available methods for gain calculation are shown in Figure 7.</p><p><img src="../../images/image3.png#centered" alt="SettingsManager"></p><marker><div class="centertext">Figure 6: Options available via the Settings_Manager to configure yaw and thrust gain.</div>

</marker><p><img src="../../images/Systemdesignimages/image2.png#centered" alt="ConstantGain"></p><marker><div class="centertext">Constant Gain, value never changes no matter what the wing beat amplitude values are.</div>

</marker><p><img src="../../images/Systemdesignimages/image1.png#centered" alt="LinearGain"></p><marker><div class="centertext">Linear Gain, value linearly scales with the wing beat amplitude values.</div>

</marker><p><img src="../../images/Systemdesignimages/image11.png#centered" alt="VariableGain"></p><marker><div class="centertext">Variable Gain, the value linearly scales between 2 points, where the mid point is set by the user.</div>

</marker><h2 id="objects-and-actions" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Objects and Actions</h2><p>The tethered animal can control its heading and speed within the virtual environment, as it moves around the scene it can approach an Object of Interest (OOI) such as a flower or tree. The animal’s avatar will not be able to collide with or land on any objects. However, by making use of an Intervention as presented in Figure 8, Objects of Interest such as a dandelion depicted in Figure 9 can be moved, hidden or shown based on the tethered animal’s proximity to any of the Objects of Interest that exist within the scene or after a duration of time has passed.</p><p><img src="../../images/Systemdesignimages/ooi_dand.png#centered" alt="OOI"></p><marker><div class="centertext">Figure 8: An Intervention configured to show the Dandelion1 OOI once the tethered animal has remained within 0.5m of the Tree3 OOI for 3 seconds.</div>

</marker><p><img src="../../images/Systemdesignimages/flowers.png#centered" alt="Scene"></p><marker><div class="centertext">Figure 9: A close up of the Dandelion1 Object of Interest</div>

</marker><h2 id="replaying-and-saving" class="heading-0-0-1"><span class="anchor-0-0-2" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Replaying and Saving</h2><p>Once a trial has finished and the data associated with it is saved the user will be able to play-back the entire trial using the replay system. This is done by pressing the load replay button on the main menu, from here you will be asked to navigate to the trial’s folder. Once the folder is selected the system will then load the position and rotation of each Object of Interest within the trial as well as the system, sequence and trial settings saved within these files. After the files are loaded you will be presented with the start replay button, once clicked the system will begin the replay.</p><script id="JCKplIWZCn">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("JCKplIWZCn", "y/Z0TkGUuy90rdYV0cdhQg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="contentnav-0-0-9" data-no-search=""><a href="#mechanics" class="h1" data-content-highlight="mechanics">Mechanics</a><a href="#rules" class="h2" data-content-highlight="rules">Rules</a><a href="#implicit" class="h3" data-content-highlight="implicit">Implicit</a><a href="#explicit" class="h3" data-content-highlight="explicit">Explicit</a><a href="#physics" class="h2" data-content-highlight="physics">Physics</a><a href="#character-movement-within-the-system" class="h2" data-content-highlight="character-movement-within-the-system">Character movement within the system</a><a href="#objects-and-actions" class="h2" data-content-highlight="objects-and-actions">Objects and Actions</a><a href="#replaying-and-saving" class="h2" data-content-highlight="replaying-and-saving">Replaying and Saving</a></div></div><div id="-codedoc-toc" class="toc-0-0-6"><div class="content-0-0-7"><p><a href="/blade32232web/">Home</a></p><div class="collapse-0-0-3 "><script id="ojDOcZNYyv">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("ojDOcZNYyv", "/kqcZjlRRzc1ickjP7DYCg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Tethered Flight Arena - User Manual</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/blade32232web/docs/usermanual/settings">Settings</a>
<a href="/blade32232web/docs/usermanual/workflow">Workflow</a>
<a href="/blade32232web/docs/usermanual/datacollection">Data Colletion</a>
<a href="/blade32232web/docs/usermanual/scriptableobjects">Scriptable Objects</a></p></div></div><div class="collapse-0-0-3 "><script id="tnicOATEuC">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("tnicOATEuC", "/kqcZjlRRzc1ickjP7DYCg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Tethered Flight Arena - System Design</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/blade32232web/docs/systemdesign/terminology">Terminology</a>
<a href="/blade32232web/docs/systemdesign/systemoverview">System Overview</a>
<a href="/blade32232web/docs/systemdesign/userexperience">User Experience</a>
<a href="/blade32232web/docs/systemdesign/mechanics">Mechanics</a>
<a href="/blade32232web/docs/systemdesign/stimuli">Stimuli</a>
<a href="/blade32232web/docs/systemdesign/interface">Interface</a>
<a href="/blade32232web/docs/systemdesign/extrainformation">Extra Information</a></p></div></div><div class="collapse-0-0-3 "><script id="EbiUdNdGol">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("EbiUdNdGol", "/kqcZjlRRzc1ickjP7DYCg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="label" onclick="this.parentElement.classList.toggle('open')"><span class="text">Tethered Flight Arena - Flyfly</span><span class="icon-font closed">chevron_right</span></div><div class="content"><p><a href="/blade32232web/docs/flyfly/installation">Installation</a>
<a href="/blade32232web/docs/flyfly/windowmenus">Window Menus</a>
<a href="/blade32232web/docs/flyfly/stimuli">Stimuli</a></p></div></div></div><div class="search-0-0-8"><script id="VISBOwUqms">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("VISBOwUqms", "HvP1vwP888Sdhuopqchp7w==", {"repo":"blade32232web","user":"blade32232","root":"docs/md","pick":"\\.md$","drop":"(^_)|(\\/_)"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><div class="footer-0-0-5"><div class="left"><script id="GKKQnObIBV">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("GKKQnObIBV", "Vd2viD9554hXlsqM3Ax/yw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div><div class="main"><div class="inside"><a href="https://github.com/blade32232/blade32232web/" target="_blank">GitHub</a></div></div><div class="right"><script id="efzUFIUrFg">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("efzUFIUrFg", "E6CVdlySM0U/C7SmdHnYLw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><script id="yPlXyjqIoj">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("yPlXyjqIoj", "nRVcrIhyv2PbPb5UKimI3Q==", {"namespace":"/blade32232web"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></body></html>